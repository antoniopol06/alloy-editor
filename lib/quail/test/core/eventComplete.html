<!doctype html>
<html>

<head>
  <title>Test that QUAIL calls the complete event correctly</title>
</head>

<body>
  <p>
    <img src="../assets/rex.jpg" />
  </p>
  <script src="../quail-testrunner.js"></script>
  <script>
    (function(global) {
      asyncTest('quailEventComplete', function () {
        expect(4);
        $(document).quail({
          jsonPath : '../../dist',
          guideline : [ 'imgHasAlt' ],
          reset : true,
          testCollectionComplete : function(eventName, testCollection) {
            ok(typeof eventName === 'string', 'The eventname argument is a string');
            equal(eventName, 'complete', 'The name of the event is \'complete\'');
            ok(testCollection instanceof quail.lib.TestCollection, 'The test argument is an instance of quail.lib.TestCollection');
            equal(testCollection.length, 1, 'The test collection has one case');
            start();
          }});
      });
    })(this);
  </script>
</body>

</html>
